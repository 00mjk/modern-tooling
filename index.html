<!DOCTYPE html>
<html lang='en'>
  <head>
    <meta charset='utf-8'>
    <title>Modern Tooling</title>
    <script src='http://www.w3.org/Tools/respec/respec-w3c-common' async class='remove'></script>
    <script class='remove'>
      var respecConfig = {
              specStatus:   "webspec"
          ,   shortName:    "modern-tooling"
          ,   editors:      [{ name: "Robin Berjon", url: "http://berjon.com/",
                               company: "W3C", companyURL: "http://w3.org/" }]
          ,   edDraftURI:   "http://w3c.github.io/modern-tooling/"
          ,   license:      "w3c-software"
          ,   repository:   "w3c/modern-tooling"
        };
    </script>
  </head>
  <body>
    <section id='abstract'>
      <p>
        This document is meant to capture the state of the discussion about modernising the tooling
        that supports the making of W3C standards.
      </p>
      <p>
        Discussion is open to all. <a href="https://github.com/w3c/modern-tooling/">Pull requests</a>
        are welcome, and the discussion takes place in
        <a href="https://github.com/w3c/modern-tooling/issues">the issues</a>.
      </p>
    </section>
    <section id='sotd'>
      <p>
        This is just informal work by an informal task force.
      </p>
    </section>

    <section>
      <h2>Problem Statement</h2>
      <p>
        W3C is a heavily tooled organisation. We did Web tools long before they became ubiquitous
        and our tooling has earned us two decades of praise — which is probably more than can be
        said for any other part of the organisation.
      </p>
      <p>
        But the Web has changed quite a fair bit since then. Today, tools abound. The Web is an
        application platform. Our users are happy using many third-party tools, and it is only
        natural that they will compare what they can find elsewhere to our offering, sometimes
        preferring other options.
      </p>
      <p>
        This causes problems:
      </p>
      <ul>
        <li>
          Our users move their work to third-party tools, where the data they produce in developing
          specifications may be lost or locked up. GitHub is a primary example here.
        </li>
        <li>
          The work that groups carry out is becoming increasingly scattered across services, such
          that it is hard to track and hard to join. Issue tracking for instance is all over the
          place.
        </li>
        <li>
          Our tools, even when they work well and remain the preferred option, are starting to look
          old in both styling and interaction style. It is hard for our users to maintain the
          impression that they are building the Web of tomorrow while using tools that are clearly
          from the 90s. Some of our more recent users even find them hard to understand. A good
          example is WBS or the mailing list archives.
        </li>
        <li>
          Accumulation is hard to manage and makes content hard to find. The W3C Web site and the
          majority of its services are exposed essentially as one single entity. After twenty years
          of accretion, that makes it hard to evolve as was made obvious in the recent discussion
          about upgrading it all to HTTPS. The heavily granular usage of ACLs makes it essentially
          impossible to index. Finding things on the W3C Web site typically involves knowing someone
          with the URL equivalent of an eidetic memory and asking them where to go. This issue is
          further compounded by user-hostile URL policies (datedspace). A good example here would
          be trying to find the next-generation pubrules service.
        </li>
      </ul>
      <p>
        We need an energetic rethink of the W3C’s tooling in order to stay relevant to our users.
        That is what this document endeavours to provide.
      </p>
      <section>
        <h2>The Plan</h2>
        <p>
          I expect to proceed as follows:
        </p>
        <ul>
          <li>
            Iterate over this document through
            <a href="https://github.com/w3c/modern-tooling/issues">issues</a> and
            <a href="https://github.com/w3c/modern-tooling/">pull requests</a>. All discussions are
            intended to be public.
          </li>
          <li>
            Go broad and assume it’s Christmas. I don't want to discourage input by having people
            think about constraints. It’s of course very likely that at the end we can’t get
            everything but that’s okay. We can easily prioritise later, but I don’t want to miss a
            good idea.
          </li>
          <li>
            Assume hackability. Even with the best and the pithiest involved in drafting this
            document it is a given that not everything that may be useful to some part of our
            community at some moment of the future will be thought of. We need to build to ensure
            that our users can refine and extend our work.
          </li>
          <li>
            Be particularly wary of the
            <a href="http://en.wikipedia.org/wiki/Gal%C3%A1pagos_syndrome">Galápagos syndrome</a>.
            There is every reason for W3C to have its specificities, even its quirks, but they need
            to be usable and manageable.
          </li>
          <li>
            Target mid-April for a first draft for internal W3C discussion; then present an overview
            to the AC at its early May meeting.
          </li>
          <li>
            Hopefully start implementing!
          </li>
        </ul>
      </section>
    </section>
    <section>
      <h2>Tools &amp; Supporting Setup</h2>
      <p>
        This section is a categorised but unprioritised list of tools and services that W3C should
        deploy, as well as ideas on how to manage integration with third-party systems.
      </p>

      <section>
        <h2>Specification Development</h2>
        <p>
          The heart of what we produce is specifications, as a manifestation of consensus. These
          already have some tooling support but it can be both further and better integrated or
          documented.
        </p>
        <section>
          <h2>Automatic Publishing</h2>
          <p>
            Great progress has already been made thanks to the
            <a href="https://github.com/w3c/echidna">Echidna</a> system that can publish Working
            Drafts in an automated manner, as often as needed. This can effectively make TR
            documents and Editor’s Drafts indistinguishable.
          </p>
          <p>
            There are, however, still a number of exceptions to the documents that Echidna can
            publish, and a number of rough edges to the system itself and its documentation. It
            needs iterative improvements.
          </p>
          <p>
            It will also need to expose a stream of notifications (as described further below) for
            the documents it publishes.
          </p>
        </section>
        <section>
          <h2>De Facto GitHub</h2>
          <p>
            While the door needs to remain open for alternatives that our users may wish to avail
            themselves of, the expected default location for specifications (and any other
            W3C-related repository) should be GitHub, preferably under the
            <a href="https://github.com/w3c/">w3c</a> organisation. This has several implications.
          </p>
          <p>
            We need to <strong>document the proper usage of GitHub for such work</strong>. Some of
            our users who are not from the Web development community can at times struggle with the
            site or with common conventions. Team resources need to be dedicated to supporting 
            users of GitHub. A specific collaboration with GitHub may be considered if needed.
          </p>
          <p>
            Better even than documentation, which is often ignored, a <strong>tool that enables the
            Team to set up new repositories correctly</strong>, within conventions, and given a few
            specific options would be most useful.
          </p>
          <p>
            Groups regularly need to add new contributors to their repositories (or, on occasion, to
            remove them); which requires administrative powers. Sadly, the granularity of the ACL
            system there does not allow us to grant that power to non-Team participants, which in
            turn means that the Team needs to be called upon for everyday business. An interface to
            <strong>grant our users the ability to maintain a repository’s collaborators</strong>
            without involving the Team would be a time-saver.
          </p>
          <p>
            Naturally, GitHub could disappear, go bankrupt, be overtaken by an evil gang of mole
            rats, or simply fall behind. In such an event, we must have all the useful data at hand
            and, if possible, be able to exploit it elsewhere. Git certainly makes it easy to keep
            repository data — it only needs be cloned.
          </p>
          <p>
            But GitHub also has a lot of useful information that isn't in git: issues, discussions,
            etc. We also need to keep that around. For that, we need a <strong>GitHub backup
            tool</strong>. This would use git’s naturally distributed nature in conjunction with the
            ability to receive organisation-wide hooks (and use the API to grab everything) in order
            to store all the useful information. Ideally all work would happen under the
            <a href="https://github.com/w3c/">w3c</a> organisation but the tool ought to be flexible
            enough to account for there being work elsewhere.
          </p>
          <p>
            The hook system should also be used so as to produce a stream of notifications that can
            later be integrated into the dashboard.
          </p>
          <p>
            This also entail that both <code>dev.w3</code> and <code>dvcs.w3</code> should be phased
            out. No new repository should be created there and no new user granted access. Projects
            that are still active there should be moved (and redirected). Obviously the content
            already published that no one is touching will likely need to stay there, but it should
            essentially be a static, frozen archive of old work.
          </p>
        </section>
        <section>
          <h2>Specification Styles as a Community Project</h2>
          <p>
            
          </p>
        </section>
        <section>
          <h2>Beyond PubRules</h2>
          <p>
            
          </p>
        </section>
        <section>
          <h2>Specification Production Tools</h2>
          <p>
            
          </p>
        </section>
        <section>
          <h2>Cross-References Support</h2>
          <p>
            
          </p>
        </section>
        <section>
          <h2>SpecRef</h2>
          <p>
            
          </p>
        </section>
        <section>
          <h2>Specification Quality Checker (CI)</h2>
          <p>
            
          </p>
          <!--
            include Travis integration
          -->
        </section>
        <section>
          <h2>Link Checker</h2>
          <p>
            
          </p>
        </section>
        <section>
          <h2>WebIDL Checker</h2>
          <p>
            
          </p>
        </section>
        <section>
          <h2>WYSIWYG Specifications</h2>
          <p>
            
          </p>
        </section>
      </section>

      <section>
        <h2>Dashboard</h2>
        <p>
          
        </p>
      </section>
      <!--
        XXX
        - notifications
        - news
        - urgent announcements
        - AC rep user management
        - WBS as API+UI
        - the W3C Application (manage everything in there, using modules that talk to APIs)
        - widgets in the dashboard (how to load, allow third parties)
        - a service needs to provide unified feeds for everything so that they can be used by widgets
          - commits
          - issues
          - communications
        - widgets system in the dashboard (as separate software projects linked by npm)
          - W3CMemes widget as one of the test ones
          - list potential ones
          - integrated view for a group based on unified eventing
          - Netvibes like thing
          - widgets can go full screen into "apps"
          - preferences service
          - http://masonry.desandro.com/options.html might be enough, otherwise http://packery.metafizzy.co/
      -->
      
      <section>
        <h2>Groups &amp; Community</h2>
        <p>
          
        </p>
      </section>
      <!--
        XXX
        - chat
        - mailing list interface
        - mailing list subscription management
        - phone discussions (Twilio?)
        - online/group discussions (Discourse)
        - piratepad
        - collaborative todo
        - what to do with wikis? make sure there is a unified dashboard and notifications stream?
        - issue tracking: all needs to produce unified feeds
        - IRC logging
      -->
      
      <section>
        <h2>Core Site</h2>
        <p>
          
        </p>
      </section>
      <!--
        XXX
        - move away from CVS, partitioning
        - Overview.html
        - datedspace
        - make it focus on public front end (plus legacy content), split all the rest out into 
          manageable units
      -->
      
      <section>
        <h2>Testing</h2>
        <p>
          
        </p>
      </section>
      <!--
        XXX
        - testing tooling (WPT)
        - coverage & links to specs
        - Critic
        - automatic runs against all browsers
        - running against SauceLabs
        - publishing results
      -->
       
      <section>
        <h2>Shipping</h2>
        <p>
          
        </p>
      </section>
      <!--
        XXX
        - need proper accessibility testing
        - needs to work on mobile
        - bots (and scribe.perl) need to work with this system
      -->

      <section>
        <h2>Core Services</h2>
        <p>
          These are services that can be reused by other parts of the ecosystem.
        </p>
        
        <section>
          <h2>Single Sign-On</h2>
          <p>
            Many tools and services will expose features that are user-dependent. It is not
            appropriate for those to implement their own user database duplicating W3C’s. It would
            also be a shame if they had to make use of third-party sign-on infrastructure (which
            was the case with Discourse).
          </p>
          <p>
            Which exact solution is selected here is of relatively little importance, but it does
            need to support typical modern Web application authentication workflows. GitHub’s
            <a href="https://developer.github.com/v3/oauth/">OAuth implementation</a> may provide a
            good example.
          </p>
          <p>
            It should also be possible to retrieve useful information about a user, such as their
            GitHub ID.
          </p>
        </section>
        
        <section>
          <h2>Search</h2>
          <p>
            The various tools to be developed may commonly require search functionality. Given the
            spread of W3C’s content, this can quickly become required. For instance, an Etherpad
            service might request indexing for its pads (using its own ACL knowledge), a chat
            logging service might index the logs, etc.
          </p>
          <p>
            One potential candidate, that can double as a JSON document store and therefore be
            usable for application data storage, is <a href="http://www.elasticsearch.org/">Elastic
            Search</a>.
          </p>
        </section>
      </section>
    </section>
    
    <section>
      <h2>Principles for Tool Integration</h2>
      <p>
        XXX
      </p>
    </section>
    <section>
      <h2>Implementation Plan</h2>
      <p>
        XXX
      </p>
    </section>
    <section>
      <h2>Resource Requirements</h2>
      <p>
        XXX
      </p>
    </section>
    <section>
      <h2>Acknowledgements</h2>
      <p>
        The following people have provided useful input into this document.
      </p>
      <ul>
        <li>Dave Singer</li>
        <li>Jeff Jaffe</li>
        <li>Philippe Le Hégaret</li>
      </ul>
    </section>
  </body>
</html>
